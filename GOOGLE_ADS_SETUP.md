# –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Google Ads API

–¶–µ–π –¥–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—É—î –ø—Ä–æ—Ü–µ—Å –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó –∑ Google Ads API –¥–ª—è –ø–ª–∞—Ç—Ñ–æ—Ä–º–∏ Nexus.

## üéØ –ú–µ—Ç–∞

–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è Google Ads API –¥–æ–∑–≤–æ–ª—è—î:
- –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ –ø—Ä–æ –∫–∞–º–ø–∞–Ω—ñ—ó —Ç–∞ —ó—Ö –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å
- –°—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ —Ç–∞ –∫–µ—Ä—É–≤–∞—Ç–∏ —Ä–µ–∫–ª–∞–º–Ω–∏–º–∏ –∫–∞–º–ø–∞–Ω—ñ—è–º–∏
- –û—Ç—Ä–∏–º—É–≤–∞—Ç–∏ –º–µ—Ç—Ä–∏–∫–∏ —Ç–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
- –ê–≤—Ç–æ–º–∞—Ç–∏–∑—É–≤–∞—Ç–∏ —Ä–æ–±–æ—Ç—É –∑ —Ä–µ–∫–ª–∞–º–Ω–∏–º–∏ –∞–∫–∫–∞—É–Ω—Ç–∞–º–∏

## üìã –ü–µ—Ä–µ–¥—É–º–æ–≤–∏

1. Google Ads –∞–∫–∫–∞—É–Ω—Ç –∑ –∞–∫—Ç–∏–≤–Ω–∏–º–∏ –∫–∞–º–ø–∞–Ω—ñ—è–º–∏
2. Google Cloud Console –ø—Ä–æ–µ–∫—Ç
3. –ë–∞–∑–æ–≤—ñ –∑–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏ –∑ API

## üîß –ü–æ–∫—Ä–æ–∫–æ–≤–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ö—Ä–æ–∫ 1: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–µ–∫—Ç—É –≤ Google Cloud Console

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Google Cloud Console](https://console.cloud.google.com/)
2. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç –∞–±–æ –≤–∏–±–µ—Ä—ñ—Ç—å —ñ—Å–Ω—É—é—á–∏–π
3. –ó–∞–ø–∏—à—ñ—Ç—å **Project ID** - –≤—ñ–Ω –∑–Ω–∞–¥–æ–±–∏—Ç—å—Å—è –ø—ñ–∑–Ω—ñ—à–µ

### –ö—Ä–æ–∫ 2: –£–≤—ñ–º–∫–Ω–µ–Ω–Ω—è Google Ads API

1. –í –º–µ–Ω—é –∑–ª—ñ–≤–∞ –≤–∏–±–µ—Ä—ñ—Ç—å "APIs & Services" ‚Üí "Library"
2. –ó–Ω–∞–π–¥—ñ—Ç—å "Google Ads API" —Ç–∞ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –Ω—å–æ–≥–æ
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Enable"

### –ö—Ä–æ–∫ 3: –°—Ç–≤–æ—Ä–µ–Ω–Ω—è OAuth 2.0 credentials

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ "APIs & Services" ‚Üí "Credentials"
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create Credentials" ‚Üí "OAuth client ID"
3. –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø –¥–æ–¥–∞—Ç–∫—É "Web application"
4. –î–æ–¥–∞–π—Ç–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ URI –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—è:
   - `http://localhost:3000/auth/google/callback` (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)
   - `https://yourdomain.com/auth/google/callback` (–¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É)
5. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Create"
6. –ó–∞–ø–∏—à—ñ—Ç—å **Client ID** —Ç–∞ **Client Secret**

### –ö—Ä–æ–∫ 4: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Developer Token

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Google Ads API Center](https://developers.google.com/google-ads/api/docs/first-call/dev-token)
2. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–≤—ñ–π Google Ads –∞–∫–∫–∞—É–Ω—Ç
3. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å —Ñ–æ—Ä–º—É –¥–ª—è –æ—Ç—Ä–∏–º–∞–Ω–Ω—è Developer Token
4. –î–æ—á–µ–∫–∞–π—Ç–µ—Å—å —Å—Ö–≤–∞–ª–µ–Ω–Ω—è (–º–æ–∂–µ –∑–∞–π–Ω—è—Ç–∏ –∫—ñ–ª—å–∫–∞ –¥–Ω—ñ–≤)
5. –ó–∞–ø–∏—à—ñ—Ç—å **Developer Token**

### –ö—Ä–æ–∫ 5: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Customer ID

1. –£–≤—ñ–π–¥—ñ—Ç—å –≤ [Google Ads](https://ads.google.com/)
2. Customer ID –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î—Ç—å—Å—è –≤ URL: `https://ads.google.com/um/Welcome/Home?customerId=1234567890`
3. –ó–∞–ø–∏—à—ñ—Ç—å **Customer ID** (–±–µ–∑ –¥–µ—Ñ—ñ—Å—ñ–≤)

### –ö—Ä–æ–∫ 6: –û—Ç—Ä–∏–º–∞–Ω–Ω—è Refresh Token

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ [Google OAuth 2.0 Playground](https://developers.google.com/oauthplayground/)
2. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ —ñ–∫–æ–Ω–∫—É –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω—å (‚öôÔ∏è) –≤ –ø—Ä–∞–≤–æ–º—É –≤–µ—Ä—Ö–Ω—å–æ–º—É –∫—É—Ç—ñ
3. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –≥–∞–ª–æ—á–∫—É "Use your own OAuth credentials"
4. –í–≤–µ–¥—ñ—Ç—å –≤–∞—à Client ID —Ç–∞ Client Secret
5. –ó–∞–∫—Ä–∏–π—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è
6. –í —Å–ø–∏—Å–∫—É API –∑–Ω–∞–π–¥—ñ—Ç—å "Google Ads API v14" —Ç–∞ –≤–∏–±–µ—Ä—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ scope:
   - `https://www.googleapis.com/auth/adwords`
7. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Authorize APIs"
8. –£–≤—ñ–π–¥—ñ—Ç—å –≤ —Å–≤—ñ–π Google –∞–∫–∫–∞—É–Ω—Ç —Ç–∞ –Ω–∞–¥–∞–π—Ç–µ –¥–æ–∑–≤–æ–ª–∏
9. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "Exchange authorization code for tokens"
10. –ó–∞–ø–∏—à—ñ—Ç—å **Refresh Token**

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ Nexus

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env.local` –≤ –∫–æ—Ä–µ–Ω—ñ –ø—Ä–æ–µ–∫—Ç—É:

```env
# Google Ads API Configuration
GOOGLE_ADS_CLIENT_ID=your_client_id_here
GOOGLE_ADS_CLIENT_SECRET=your_client_secret_here
GOOGLE_ADS_DEVELOPER_TOKEN=your_developer_token_here
GOOGLE_ADS_LOGIN_CUSTOMER_ID=your_customer_id_here
```

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ "–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è" ‚Üí "Google Ads"
2. –ó–∞–ø–æ–≤–Ω—ñ—Ç—å –≤—Å—ñ –ø–æ–ª—è:
   - **Client ID**: –≤–∞—à OAuth Client ID
   - **Client Secret**: –≤–∞—à OAuth Client Secret
   - **Developer Token**: –≤–∞—à Developer Token
   - **Customer ID**: –≤–∞—à Customer ID
   - **Refresh Token**: –≤–∞—à Refresh Token
   - **Login Customer ID**: (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ) –¥–ª—è manager –∞–∫–∫–∞—É–Ω—Ç—ñ–≤
3. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ó–±–µ—Ä–µ–≥—Ç–∏"
4. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è"

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

### –ß–µ—Ä–µ–∑ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å

1. –í –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö Google Ads –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–¢–µ—Å—Ç—É–≤–∞—Ç–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è"
2. –Ø–∫—â–æ –≤—Å–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤–∏ –ø–æ–±–∞—á–∏—Ç–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è "–ü—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è —É—Å–ø—ñ—à–Ω–µ!"

### –ß–µ—Ä–µ–∑ API

```bash
curl -X GET "http://localhost:3000/api/google-ads?action=test-connection&customerId=YOUR_CUSTOMER_ID"
```

### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ–π

```bash
curl -X GET "http://localhost:3000/api/google-ads?action=get-campaigns&customerId=YOUR_CUSTOMER_ID"
```

## üìä –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

### –î–æ—Å—Ç—É–ø–Ω—ñ –¥—ñ—ó

#### GET –∑–∞–ø–∏—Ç–∏:
- `test-connection` - —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- `get-campaigns` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∫–∞–º–ø–∞–Ω—ñ–π
- `get-campaign-details` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π –∫–∞–º–ø–∞–Ω—ñ—ó
- `get-campaign-metrics` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –º–µ—Ç—Ä–∏–∫ –∫–∞–º–ø–∞–Ω—ñ—ó
- `get-accounts` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è —Å–ø–∏—Å–∫—É –∞–∫–∫–∞—É–Ω—Ç—ñ–≤
- `get-overall-stats` - –æ—Ç—Ä–∏–º–∞–Ω–Ω—è –∑–∞–≥–∞–ª—å–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### POST –∑–∞–ø–∏—Ç–∏:
- `create-campaign` - —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ—ó –∫–∞–º–ø–∞–Ω—ñ—ó
- `update-campaign-status` - –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É –∫–∞–º–ø–∞–Ω—ñ—ó

### –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

#### –û—Ç—Ä–∏–º–∞–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ–π
```javascript
const response = await fetch('/api/google-ads?action=get-campaigns&customerId=1234567890')
const data = await response.json()
console.log(data.data) // –º–∞—Å–∏–≤ –∫–∞–º–ø–∞–Ω—ñ–π
```

#### –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–∞–º–ø–∞–Ω—ñ—ó
```javascript
const response = await fetch('/api/google-ads', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    action: 'create-campaign',
    customerId: '1234567890',
    name: '–ù–æ–≤–∞ –∫–∞–º–ø–∞–Ω—ñ—è',
    budget: 100,
    startDate: '2024-01-01',
    networkType: 'SEARCH'
  })
})
const data = await response.json()
console.log(data.campaignId) // ID —Å—Ç–≤–æ—Ä–µ–Ω–æ—ó –∫–∞–º–ø–∞–Ω—ñ—ó
```

## üö® –ü–æ—à–∏—Ä–µ–Ω—ñ –ø–æ–º–∏–ª–∫–∏

### "Google Ads API –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ
- –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ –∑–º—ñ–Ω–Ω–∏—Ö

### "–ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å Customer ID
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ Developer Token –∞–∫—Ç–∏–≤–Ω–∏–π
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å Refresh Token

### "Access denied"
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –º–∞—î –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç –¥–æ—Å—Ç—É–ø –¥–æ Google Ads API
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ OAuth credentials –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ

### "Rate limit exceeded"
- Google Ads API –º–∞—î –æ–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –∑–∞–ø–∏—Ç—ñ–≤
- –î–æ–¥–∞–π—Ç–µ –∑–∞—Ç—Ä–∏–º–∫–∏ –º—ñ–∂ –∑–∞–ø–∏—Ç–∞–º–∏
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∫–µ—à—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è credentials
- –ù—ñ–∫–æ–ª–∏ –Ω–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ credentials –≤ –∫–æ–¥—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –±–µ–∑–ø–µ—á–Ω—ñ —Å—Ö–æ–≤–∏—â–∞ (AWS Secrets Manager, Google Secret Manager)

### –û–±–º–µ–∂–µ–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ –º—ñ–Ω—ñ–º–∞–ª—å–Ω–æ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ scope –¥–ª—è OAuth
- –†–µ–≥—É–ª—è—Ä–Ω–æ –æ–Ω–æ–≤–ª—é–π—Ç–µ Refresh Token
- –ú–æ–Ω—ñ—Ç–æ—Ä—å—Ç–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è API

## üìö –ö–æ—Ä–∏—Å–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è

- [Google Ads API Documentation](https://developers.google.com/google-ads/api/docs/start)
- [OAuth 2.0 Setup](https://developers.google.com/google-ads/api/docs/oauth/overview)
- [Developer Token Application](https://developers.google.com/google-ads/api/docs/first-call/dev-token)
- [API Reference](https://developers.google.com/google-ads/api/reference/rpc/latest)

## ü§ù –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–Ø–∫—â–æ —É –≤–∞—Å –≤–∏–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º–∏ –∑ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤—Å—ñ –∫—Ä–æ–∫–∏ –≤ —Ü—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞ –¥–ª—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–º–∏–ª–æ–∫
3. –ó–≤–µ—Ä–Ω—ñ—Ç—å—Å—è –¥–æ –∫–æ–º–∞–Ω–¥–∏ —Ä–æ–∑—Ä–æ–±–∫–∏ –∑ –¥–µ—Ç–∞–ª—å–Ω–∏–º –æ–ø–∏—Å–æ–º –ø—Ä–æ–±–ª–µ–º–∏

---

**–ü—Ä–∏–º—ñ—Ç–∫–∞**: –¶—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –æ–Ω–æ–≤–ª—é—î—Ç—å—Å—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ. –ó–∞–≤–∂–¥–∏ –ø–µ—Ä–µ–≤—ñ—Ä—è–π—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω—ñ—Å—Ç—å —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó –≤ –æ—Ñ—ñ—Ü—ñ–π–Ω—ñ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—ó Google Ads API. 